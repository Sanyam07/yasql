tasks:
  - name: simple
    doc: >
      Expected output:
        select
           col1, col2, count(*) as cnt
        from table1
        where col1 = 'foo' and col2 = 1
        group by col1
        order by col2 desc
    select:
      fields:
        - col1
        - col2
        - cnt: count(*)
      from: table1
      where:
        col1: foo
        col2: 1
      group_by: col1
      order_by: col2 desc

  - name: join_and_alias
    doc: >
      Expected output:
        select
            t1.user_id as user_id,
            t1.order_id as order_id
        from table1 as t1
        join table2 as t2 on (t1.user_id = t2.id)
        join table3 as t3 on (t1.order_id = t3.id)
    select:
      fields:
        user_id: t1.user_id
        order_id: t1.order_id
      from:
        t1: table1
      join:
        t2: table2 on (t1.user_id = t2.id)
        t3: table3 on (t1.order_id = t3.id)
